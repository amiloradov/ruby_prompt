# **МАТЕМАТИКА**

## **Классы и модули чисел**

* **Numeric** — элементарный класс для чисел

* **Integer** — элементарный класс целых чисел и базис для класса Fixnum

* **Float** — класс для действительных чисел или чисел с плавающей точкой

* **Fixnum** — главный класс целых чисел, основанный на том, что может храниться в собственном машинном слове компьютера, например, в 32-х или 64-х битах, минус 1

* **Bignum** — класс целых чисел за пределами диапазона базового машинного слова

* **Math** — модуль, в котором содержаться математические функции(в виде методов)

* **Precision** — модуль для аппроксинации точности действительных чисел

* **Rational** — класс, который представляет дробные числа

* **Complex** — класс, который представляет комплексные числа

* **Matrix** — класс для создания математических матриц
---

## **Операторы**

| **Оператор** | **Описание** |
|--|--|
| :: | Разрешение границ видимости |
| [] []= | Ссылка, множество |
| ** | Возведение в степень |
| + - ! ~ | Унарный плюс, унарный минус, логическое отрицание, дополнение |
| * / % | Умножение, деление, деление по модулю (остаток) |
| + - | Сложение, вычитание |
| << >> | Сдвиг влево, сдвиг вправо |
| & | Побитовое «И» |
| \| ^ | Побитовое «ИЛИ», побитовое исключающее «ИЛИ» |
| > >= < <= | Больше, больше или равно, меньше, меньше или равно |
| <=> == === != =~ !~ | Сравнение на равенство, равенство, равенство (например, в диапазоне), неравенство, совпадение, несовпадение |
| && | Логическое «И» (также ключевое слово and, которое имеет более низкий приоритет) |
| \|\| | Логическое «ИЛИ» (также ключевое слово or, которое имеет более низкий приоритет) |
| .. … | Диапазон включающий; диапазон исключающий |
| ?: | Трехместный оператор |
| =, +=, -=, *=, /=, %=, **=, <<=, >>=, &=, \|=, ^=, &&=, \|\|= | Присваивание, сокращенное присваивание |
| not | Логическое отрицание |
| and or | Логическая композиция |
| defined? | Специальный оператор (без приоритета) |
---

## **Диапазоны**

Диапазоны — это интервалы с начальным и конечным значениями, отделенными друг от друга оператором диапазона.

Существует два оператора диапазона:

* . . - означает включающий диапазон чисел (1. .10 => 1,2,3,4,5,6,7,8,9,10)

* … - означает исключающий диапазон чисел (1...10 => 1,2,3,4,5,6,7,8,9)

  

Метод === определяет, является ли значение членом диапазона или включено ли оно в диапазон:

```ruby
(1. .25)==14	# => true

(1. .25)==26	# => false

(1...25)==25	# => false
```

Когда диапазон используется как итератор, возвращается каждое значение последовательности. Поэтому можно использовать диапазон для таких вещей, как создание массива цифр:

```ruby
(1. .9).to_a	# => [1, 2, 3, 4, 5, 6, 7, 8, 9]
```

Диапазон создается пи помощи класса **Range**:

```ruby
digits = Range.new(1, 9)

digits.to_a		# => [1, 2, 3, 4, 5, 6, 7, 8, 9]
```
 
## **Итеративное вычисление через блоки**

Начиная с 0, метод **times** выполняет итерации value раз. Здесь value равно 10:

```ruby
10.times { |i| print i, " " }	# => 0 1 2 3 4 5 6 7 8 9
```
  
Также можно произвести вычисления:

```ruby
10.times { |i| print 5*i, " " }		# => 0 5 10 15 20 25 30 35 40 45
```
 
Метод **downto**:

```ruby
100.downto(1) { |c| print c, " "; sleep 1 }
```
 
Этот метод печатает числа от 100 до 1, засыпая на одну секунду перед печатью каждого числа. 

Метод **upto** движется в противоположном направлении:

```ruby
1.downto(100) { |c| print c, " "; sleep 1 }
```
---
  
## **Еще математические методы**

Получение абсолютного значения числа:

```ruby
-40.abs			# => 40

40.abs			# => 40
```
  
Получение наименьшего целого, превосходящего числа, и наибольшего целого, не превосходящего числа:

```ruby
4.65.ceil		# => 5

4.65.floor		# => 4
```
  
Округление числа в меньшую или большую сторону:

```ruby
100.45.round	# => 100

100.5.round		# => 101
```
  
Получение следующего целого числа при помощи **next** (или его псевдонима **succ**):

```ruby
-24.next		# => -23

1.next			# => 2

999.next		# => 1000
```
  
Получение символьного значения целого числа с помощью **chr**:

```ruby
97.chr			# => "a"

98.chr			# => "b"

125.chr			# => "}"
```
  ---
  
## **Математические функции**

Модуль **Math** поставляет многие математические функции (через методы класса).

В Math есть также две константы с соответствующими методами. Чтобы установить, какие константы определены в Math, воспользуемся рефлексией, вызвав метод **constants**:

```ruby
Math.constants		# => [ "E", "PI" ]
```
  
Значения этих констант (Эйлеровой и π):

```ruby
print Math::E		# => 2.71828182845905

print::Math::PI		# => 3.14159265358979
```
  
Функция **Math.exp** из Math возвращает постоянную Эйлера в степени x:

```ruby
Math.exp(1)			# => 2.71828182845905

Math.exp(11)		# => 59874.1417151978
```
  
Метод **Math.sqrt** возвращает квадратный корень из х:

```ruby
Math.sqrt(4)		# => 2.0

Math.sqrt(16)		# => 4.0

Math.sqrt(144)		# => 12.0
```
 
Можно брать натуральные логарифмы и десятичные логарифмы:

```ruby
Math.log(Math::E)	# =>1.0

Math.log(1)			# => 0.0

Math.log(0)			# => -Infinity

Math.log10(100.0)	# => 2.0
```
  
Все математические функции (все методы класса), доступные из модуля Math:

| **Метод** | **Описание** |
|--|--|
| Math.acos, Math.acos! | Арккосинус |
| Math.acosh, Math.acosh! | Гиперболический арккосинус |
| Math.asin, Math.asin! | Арксинус |
| Math.asinh, Math.asinh! | Гиперболический арксинус |
| Math.atan, Math.atan! Math.atan2, Math.atan2! | Арктангенс; atan принимает параметр х; atan2 принимает х и y |
| Math.atanh, Math.atanh! | Гиперболический арктангенс |
| Math.cos, Math.cos! | Косинус |
| Math.cosh, Math.cosh! | Гиперболический косинус |
| Math.sin, Math.sin! | Синус |
| Math.erf | Функция ошибок |
| Math.erfc | Дополнительная функция ошибок |
| Math.exp, Math.exp! | Постоянная Эйлера в степени |
| Math.frexp | Нормализованная дробная часть и экспонента |
| Math.hypot | Гипотенуза |
| Math.ldex | Значение с плавающей точкой, соответствующее заданной мантиссе и экспоненте |
| Math.sinh, Math.sinh! | Гиперболический синус |
| Math.sqrt, Math.sqrt! | Квадратный корень |
| Math.tan, Math.tan! | Тангенс |
| Math.tanh, Math.tanh! | Гиперболический тангенс |
---
  
## **Рациональные числа**

Рациональное число — Это число, которое может быть выражено в виде дроби, числитель и знаменатель которой является целыми числами. Ruby поддерживает применение рациональных чисел посредством класса **Rational**.

Если же затребовать библиотеку **mathn**, то библиотека **Rational** будет работать лучше.

Класс **Rational** поддерживает только целые числа.

```ruby
require 'rational'
require 'mathn'

rat = Rational(25/100)		# => 1/4 — несократимая дробь

rat + Rational(1/4)			# => 1/2 — сложение

rat + 1/4					# => 1/2


rat — Rational(1/8)			# => 1/8 — вычетание

rat — 1/8					# => 1/8

 
rat * 3						# => 3/4 — умножение

rat / 2						# => 1/8 — деление

rat % Rational(1/2)			# => 1/4 — деление по модулю или остаток

 
rat**2						# => 1/16 — возведение в степень

  
rat == 1/8					# => false — сравнение на равенство

rat == 1/4					# => true

rat <=> 1/4					# => 0

rat <=> 1/8					# => 1

rat <=> 1/2					# => -1

  
rat.inspect					# => "1/4"

rat.to_s					# => "1/4"

rat.to_f					# => 0.25

p rat						# => 1/4
```
---
