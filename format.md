# **ФОРМАТИРОВАНИЕ ВЫВОДА**

Для создания форматированных строк есть методы **printf** и **format**:

```ruby
printf("%b", 237)			 # => "11101101"

puts format("%b", 237)		 # => "11101101"
```

Спецификатор формата **%b** указывает, что вы хотите получить двоичный результат, он всегда начинается с **%**. **b** — это тип **поля** для представления в двоичной системе счисления, параметр **237** — это число, которое вы хотите преобразовать в двоичное.

Еще пример:

```ruby
puts format("%b", 14) # => "1110"

puts format("%08b", 14) # => "00001110"
```
  

**Флажок**, следующий за знаком процента (%), указывает, что вы хотите заполнить или дополнить результат нулями вместо пробелов (задаваемых по умолчанию). Число 8 обозначает ширину результата (восемь цифр).

| **Флажок** | **Для типов полей** | **Описание** |
|--|--|--|
| [пробел] | bdeEfgGiouxX | Помещает пробел в начало положительного числа |
| [1-9]$ | Все типы полей | Абсолютный номер параметра для этого поля |
| # | beEfgGioxX | Для поля b результату предшествует 0b; для o — 0; для x — 0x; для X — 0X; для e, E, f, g и G добавляется десятичная точка; для g и G не удаляются хвостовые пробелы |
| + | bdeEfgGiouxX | Добавляет перед положительными числами знак "плюс" (+) |
| - | Все типы полей | Выравнивает результат влево |
| 0 | bdeEfgGiouxX | Дополняет результаты нулями (0) вместо пробелов |
| * | Все типы полей | Использует следующий параметр как ширину поля. Если он отрицательный, выравнивает результат влево. Если за звездочкой (*) следует число и знак доллара ($), использует параметр как ширину |
---

| **Поле** | **Описание** |
|--|--|
| b | Преобразует числовой параметр в двоичное число |
| c | Преобразует числовой параметр (код символа) в символ |
| d | Преобразует числовой параметр в десятичное число. То же самое, что i |
| e | Преобразует параметр с плавающей точкой в экспоненциальное представление, с использованием одной цифры перед десятичной точкой. По умолчанию в дробной части устанавливается шесть цифр (cр. с _g_) |
| E | То же самое, что е, но в результате используется е |
| f | Преобразует числовой параметр в число с плавающей точкой. По умолчанию в дробной части устанавливается шесть цифр. Количество цифр дробной части определяется точностью |
| g | Преобразует числовой параметр в число с плавающей точкой, использует экспоненциальную форму, если экспонента меньше, чем -4_,_ или больше или равна точности, в противном случае использует форму d.dddd (ср. с _е_) |
| G | То же самое, что g, но в результате используется е |
| i | Преобразует числовой параметр в десятичное число. То же самое, что d |
| o | Преобразует числовой параметр в восьмеричное число. |
| p | То же самое, что argument.inspect, где inspect  предоставляет печатаемую версию параметра, с удаленными специальными символами |
| s | Подставляет параметр как строку. Если форматирующая строка содержит точность, то в подстановку копируется не менее указанного количества символов |
| u | Трактует параметр как десятичное число без знака. Отрицательные числа для базовой архитектуры показываются как 32-битовое дополнение до двух плюс единица (например, 2**32+n). Так как в Ruby нет собственного лимита на количество битов, используемых для представления целого числа, отрицательным значениям предшествуют две точки, обозначающие бесконечное количество лидирующих знаковых битов |
| x | Преобразует числовой параметр в шестнадцатеричное число со строчными буквами от а до f. Отрицательные числа показываются с двумя предшествующими точками, обозначающими бесконечную строку лидирующих ff |
| X | То же самое, что х, но в результате используются заглавные буквы от А до F. Отрицательные числа показываются с двумя предшествующими точками, обозначающими бесконечную строку лидирующих FF |
---

Примеры:

```ruby
printf("The integer %1$d is %1$08b in binary format.", 72)

# => "The integer 72 is 01001000 in binary format."
```

1$ дает методу понять, что надо искать только первый параметр.

Тип поля **x** преобразует параметр в шестнадцатеричное значение:

```ruby
printf("%x, 30") # => "1e"

printf("%X, 30") # => "1E"
```

Чтобы шестнадцатеричному результату предшествовало 0x, добавим символ #:

```ruby
printf("%#x, 256") # => "0x100"
```

Тип поля %o возвращает восьмеричное число. Чтобы восьмеричному числу предшествовал 0, добавим #:

```ruby
printf("%#o, 100") # => "0144"
```
---
